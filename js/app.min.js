function parallax(t){this.querySelectorAll(".layer").forEach(e=>{let s=e.getAttribute("data-speed");e.style.transform=`translateX(${t.clientX*s/1e3}px)`})}function handMovement(t){let e=document.querySelector(".movement"),s=e.getAttribute("data-speed");e.style.transform=`translateY(${t.clientY*s/800}px)`}document.addEventListener("mousemove",parallax),document.addEventListener("mousemove",handMovement);let curtainsBtn=document.querySelector(".fight-btn"),curtainLeft=document.querySelector(".curtain-1"),curtainRight=document.querySelector(".curtain-2"),footer=document.querySelector(".footer"),description=document.querySelector(".description");curtainsBtn.onclick=function(){curtainLeft.classList.add("close-1"),curtainRight.classList.add("close-2"),footer.classList.add("footer-small"),curtainsBtn.classList.add("hide"),description.classList.add("desc-visibility")};let forkBtn=document.querySelector(".fork"),bananaBtn=document.querySelector(".banana"),donerBtn=document.querySelector(".doner"),pistolBtn=document.querySelector(".pistol"),wpBox1=document.querySelector(".weapon-box-1"),wpBox2=document.querySelector(".weapon-box-2"),wpBox3=document.querySelector(".weapon-box-3"),wpBox4=document.querySelector(".weapon-box-4"),showWpn1=!0,showWpn2=!0,showWpn3=!0,showWpn4=!0,activeWpn1=!1,activeWpn2=!1,activeWpn3=!1,activeWpn4=!1,fpWpn=document.querySelector(".weapon-fp");forkBtn.onclick=function(){1==showWpn1&0==activeWpn1?(wpBox2.classList.remove("shown"),wpBox3.classList.remove("shown"),wpBox4.classList.remove("shown"),curtainsBtn.classList.remove("hide"),showWpn2=!1,showWpn3=!1,showWpn4=!1,activeWpn1=!0,wpBox1.classList.add("active-weapon"),fpWpn.classList.add("fork-fp")):0==showWpn1&&(wpBox1.classList.add("shown"),wpBox2.classList.remove("shown"),wpBox3.classList.remove("shown"),wpBox4.classList.remove("shown"),wpBox1.classList.add("active-weapon"),wpBox2.classList.remove("active-weapon"),wpBox3.classList.remove("active-weapon"),wpBox4.classList.remove("active-weapon"),showWpn1=!0,showWpn2=!1,showWpn3=!1,showWpn4=!1,activeWpn1=!0,activeWpn2=!1,activeWpn3=!1,activeWpn4=!1,fpWpn.classList.add("fork-fp"),fpWpn.classList.remove("banana-fp"),fpWpn.classList.remove("doner-fp"),fpWpn.classList.remove("pistol-fp"))},bananaBtn.onclick=function(){1==showWpn2&0==activeWpn2?(wpBox1.classList.remove("shown"),wpBox3.classList.remove("shown"),wpBox4.classList.remove("shown"),curtainsBtn.classList.remove("hide"),showWpn1=!1,showWpn3=!1,showWpn4=!1,activeWpn2=!0,wpBox2.classList.add("active-weapon"),fpWpn.classList.add("banana-fp")):0==showWpn2&&(wpBox1.classList.remove("shown"),wpBox2.classList.add("shown"),wpBox3.classList.remove("shown"),wpBox4.classList.remove("shown"),wpBox1.classList.remove("active-weapon"),wpBox2.classList.add("active-weapon"),wpBox3.classList.remove("active-weapon"),wpBox4.classList.remove("active-weapon"),showWpn1=!1,showWpn2=!0,showWpn3=!1,showWpn4=!1,activeWpn1=!1,activeWpn2=!0,activeWpn3=!1,activeWpn4=!1,fpWpn.classList.add("banana-fp"),fpWpn.classList.remove("fork-fp"),fpWpn.classList.remove("doner-fp"),fpWpn.classList.remove("pistol-fp"))},donerBtn.onclick=function(){1==showWpn3&0==activeWpn3?(wpBox1.classList.remove("shown"),wpBox2.classList.remove("shown"),wpBox4.classList.remove("shown"),curtainsBtn.classList.remove("hide"),showWpn1=!1,showWpn2=!1,showWpn4=!1,activeWpn3=!0,wpBox3.classList.add("active-weapon"),fpWpn.classList.add("doner-fp")):0==showWpn3&&(wpBox1.classList.remove("shown"),wpBox2.classList.remove("shown"),wpBox3.classList.add("shown"),wpBox4.classList.remove("shown"),wpBox1.classList.remove("active-weapon"),wpBox2.classList.remove("active-weapon"),wpBox3.classList.add("active-weapon"),wpBox4.classList.remove("active-weapon"),showWpn1=!1,showWpn2=!1,showWpn3=!0,showWpn4=!1,activeWpn1=!1,activeWpn2=!1,activeWpn3=!0,activeWpn4=!1,fpWpn.classList.add("doner-fp"),fpWpn.classList.remove("banana-fp"),fpWpn.classList.remove("fork-fp"),fpWpn.classList.remove("pistol-fp"))},pistolBtn.onclick=function(){1==showWpn4&0==activeWpn4?(wpBox1.classList.remove("shown"),wpBox2.classList.remove("shown"),wpBox3.classList.remove("shown"),curtainsBtn.classList.remove("hide"),showWpn1=!1,showWpn2=!1,showWpn3=!1,activeWpn4=!0,wpBox4.classList.add("active-weapon"),fpWpn.classList.add("pistol-fp")):0==showWpn4&&(wpBox1.classList.remove("shown"),wpBox2.classList.remove("shown"),wpBox3.classList.remove("shown"),wpBox4.classList.add("shown"),wpBox1.classList.remove("active-weapon"),wpBox2.classList.remove("active-weapon"),wpBox3.classList.remove("active-weapon"),wpBox4.classList.add("active-weapon"),showWpn1=!1,showWpn2=!1,showWpn3=!1,showWpn4=!0,activeWpn1=!1,activeWpn2=!1,activeWpn3=!1,activeWpn4=!0,fpWpn.classList.add("pistol-fp"),fpWpn.classList.remove("banana-fp"),fpWpn.classList.remove("fork-fp"),fpWpn.classList.remove("doner-fp"))};let defenseButtons=document.querySelectorAll(".defense"),commentary=document.querySelector(".commentary"),commentary_2=document.querySelector(".commentary_2");for(let t of defenseButtons)t.onmouseover=function(){commentary.textContent=t.dataset.comment};for(let t of defenseButtons)t.onmouseout=function(){commentary.textContent=""};let attackButtons=document.querySelectorAll(".attack");for(let t of attackButtons)t.onmouseover=function(){commentary.textContent=t.dataset.comment};for(let t of attackButtons)t.onmouseout=function(){commentary.textContent=""};let playerHpBar=document.querySelector(".player_hp_status"),playerStBar=document.querySelector(".player_stamina_status"),mcHpBar=document.querySelector(".mc_hp_status"),mcStBar=document.querySelector(".mc_stamina_status"),playerHitPoints=100,playerStamina=100;playerHpBar.style.width=playerHitPoints+"%",playerStBar.width=playerStamina+"%";let mcHitPoints=100,mcStamina=100;mcHpBar.style.width=mcHitPoints+"%",mcStBar.width=mcStamina+"%";let forkBasicDmg=5,forkStaminaCost=-10,bananaBasicDmg=3,bananaStaminaCost=-5,donerBasicDmg=3,donerStaminaCost=-5,pistolBasicDmg=20,pistolStaminaCost=-20,startRoundBtnActive=document.querySelector(".start-round"),startRoundBtn=document.querySelector(".start-btn"),defenseChosen=!1,attackChosen=!1,headDef=!1,torsoDef=!1,legsDef=!1,defCheck1=()=>{defenseButtons[0].classList.add("active-defense"),defenseButtons[1].classList.remove("active-defense"),defenseButtons[2].classList.remove("active-defense"),headDef=!0,torsoDef=!1,legsDef=!1,defenseChosen=!0},defCheck2=()=>{defenseButtons[1].classList.add("active-defense"),defenseButtons[0].classList.remove("active-defense"),defenseButtons[2].classList.remove("active-defense"),headDef=!1,torsoDef=!0,legsDef=!1,defenseChosen=!0},defCheck3=()=>{defenseButtons[2].classList.add("active-defense"),defenseButtons[0].classList.remove("active-defense"),defenseButtons[1].classList.remove("active-defense"),headDef=!1,torsoDef=!1,legsDef=!0,defenseChosen=!0};defenseButtons[0].onclick=function(){0==headDef&0==attackChosen?defCheck1():0==headDef&1==attackChosen&&(defCheck1(),startRoundBtnActive.classList.add("activated"))},defenseButtons[1].onclick=function(){0==torsoDef&0==attackChosen?defCheck2():0==torsoDef&1==attackChosen&&(defCheck2(),startRoundBtnActive.classList.add("activated"))},defenseButtons[2].onclick=function(){0==legsDef&0==attackChosen?defCheck3():0==legsDef&1==attackChosen&&(defCheck3(),startRoundBtnActive.classList.add("activated"))};let headAtt=!1,torsoAtt=!1,legsAtt=!1,attCheck1=()=>{attackButtons[0].classList.add("active-attack"),attackButtons[1].classList.remove("active-attack"),attackButtons[2].classList.remove("active-attack"),headAtt=!0,torsoAtt=!1,legsAtt=!1,attackChosen=!0},attCheck2=()=>{attackButtons[1].classList.add("active-attack"),attackButtons[0].classList.remove("active-attack"),attackButtons[2].classList.remove("active-attack"),headAtt=!1,torsoAtt=!0,legsAtt=!1,attackChosen=!0},attCheck3=()=>{attackButtons[2].classList.add("active-attack"),attackButtons[0].classList.remove("active-attack"),attackButtons[1].classList.remove("active-attack"),headAtt=!1,torsoAtt=!1,legsAtt=!0,attackChosen=!0};attackButtons[0].onclick=function(){0==headAtt&0==defenseChosen?attCheck1():0==headAtt&1==defenseChosen&&(attCheck1(),startRoundBtnActive.classList.add("activated"))},attackButtons[1].onclick=function(){0==torsoAtt&0==defenseChosen?attCheck2():0==torsoAtt&1==defenseChosen&&(attCheck2(),startRoundBtnActive.classList.add("activated"))},attackButtons[2].onclick=function(){0==legsAtt&0==defenseChosen?attCheck3():0==legsAtt&1==defenseChosen&&(attCheck3(),startRoundBtnActive.classList.add("activated"))};let clearAttDef=()=>{attackButtons[0].classList.remove("active-attack"),attackButtons[1].classList.remove("active-attack"),attackButtons[2].classList.remove("active-attack"),defenseButtons[0].classList.remove("active-defense"),defenseButtons[1].classList.remove("active-defense"),defenseButtons[2].classList.remove("active-defense"),attackChosen=!1,defenseChosen=!1};function runRoundAttack(t,e,s,a){playerStamina+=t,1==headAtt?0!=a?(mcHitPoints-=e+s+5,commentary.textContent="Вы наносите Макгрегору удар в голову на "+(e+s)+" урона",mcHitPoints>=0?(mcHpBar.style.width=mcHitPoints+"%",headAtt=!1):(mcHpBar.style.width="0%",headAtt=!1)):(commentary.textContent="Макгрегор ловко парирует атаку и ",headAtt=!1):1==torsoAtt?1!=a?(mcHitPoints-=e+s,mcHitPoints>=0?(mcHpBar.style.width=mcHitPoints+"%",torsoAtt=!1):(mcHpBar.style.width="0%",torsoAtt=!1)):(commentary.textContent="Макгрегор ловко парирует атаку и ",torsoAtt=!1):1==legsAtt&&(2!=a?(mcHitPoints-=e+s,mcStamina-=5,mcHitPoints>=0?(mcHpBar.style.width=mcHitPoints+"%",legsAtt=!1):(mcHpBar.style.width="0%",legsAtt=!1)):(commentary.textContent="Макгрегор ловко парирует атаку и ",legsAtt=!1))}function runRoundDefense(){let t,e;t=Math.floor(3*Math.random()),console.log("MC attack"+t),e=Math.floor(5*Math.random()+5),mcStamina-=10,console.log("MC stamina"+mcStamina),0==t?0==headDef?(playerHitPoints-=e+10,playerHpBar.style.width=playerHitPoints+"%",commentary_2.textContent="наносит "+(e+10)+" урона прямо вам в голову.",torsoDef=!1,legsDef=!1):(console.log("MC hit blocked"),headDef=!1):1==t?0==torsoDef?(playerHitPoints-=e,playerHpBar.style.width=playerHitPoints+"%",commentary_2.textContent="наносит "+(e+10)+" урона хлестким ударом в корпус.",headDef=!1,legsDef=!1):(console.log("MC hit blocked"),torsoDef=!1):2==t&&(0==legsDef?(playerHitPoints-=e,playerStamina-=5,playerHpBar.style.width=playerHitPoints+"%",commentary_2.textContent="наносит "+(e+10)+" урона тебе по ногам.",headDef=!1,torsoDef=!1):(console.log("MC hit blocked"),legsDef=!1))}startRoundBtn.onclick=()=>{if(startRoundBtnActive.classList.remove("activated"),clearAttDef(),1==activeWpn1){let t,e;t=Math.floor(3*Math.random()),e=Math.floor(8*Math.random()),runRoundAttack(forkStaminaCost,forkBasicDmg,e,t)}else if(1==activeWpn2){let t,e;t=Math.floor(3*Math.random()),e=Math.floor(5*Math.random()),runRoundAttack(bananaStaminaCost,bananaBasicDmg,e,t)}else if(1==activeWpn3){let t,e;t=Math.floor(3*Math.random()),e=Math.floor(5*Math.random()),runRoundAttack(donerStaminaCost,donerBasicDmg,e,t)}else if(1==activeWpn4){let t,e;t=Math.floor(3*Math.random()),e=Math.floor(15*Math.random()),runRoundAttack(pistolStaminaCost,pistolBasicDmg,e,t)}runRoundDefense()};