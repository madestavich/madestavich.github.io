function parallax(t){this.querySelectorAll(".layer").forEach(e=>{let s=e.getAttribute("data-speed");e.style.transform=`translateX(${t.clientX*s/1e3}px)`})}function handMovement(t){let e=document.querySelector(".movement"),s=e.getAttribute("data-speed");e.style.transform=`translateY(${t.clientY*s/800}px)`}document.addEventListener("mousemove",parallax),document.addEventListener("mousemove",handMovement);let curtainsBtn=document.querySelector(".fight-btn"),curtainLeft=document.querySelector(".curtain-1"),curtainRight=document.querySelector(".curtain-2"),footer=document.querySelector(".footer"),description=document.querySelector(".description");curtainsBtn.onclick=function(){curtainLeft.classList.add("close-1"),curtainRight.classList.add("close-2"),footer.classList.add("footer-small"),curtainsBtn.classList.add("hide"),description.classList.add("desc-visibility")};let endCurtain1=document.querySelector(".end_curtain_1"),endCurtain2=document.querySelector(".end_curtain_2"),mcWin=document.querySelector(".end_curtain_mc_win"),playerWin=document.querySelector(".end_curtain_player_win"),endImg1=function(){attackComment.textContent="",defenseComment.textContent="",mcWin.classList.add("open_winner")},endImg2=function(){attackComment.textContent="",defenseComment.textContent="",playerWin.classList.add("open_winner")};function closeEndCurtains(){endCurtain1.classList.add("close_end_curtain_1"),endCurtain2.classList.add("close_end_curtain_2")}let forkBtn=document.querySelector(".fork"),bananaBtn=document.querySelector(".banana"),donerBtn=document.querySelector(".doner"),pistolBtn=document.querySelector(".pistol"),wpBox1=document.querySelector(".weapon-box-1"),wpBox2=document.querySelector(".weapon-box-2"),wpBox3=document.querySelector(".weapon-box-3"),wpBox4=document.querySelector(".weapon-box-4"),showWpn1=!0,showWpn2=!0,showWpn3=!0,showWpn4=!0,activeWpn1=!1,activeWpn2=!1,activeWpn3=!1,activeWpn4=!1,fpWpn=document.querySelector(".weapon-fp");forkBtn.onclick=function(){1==showWpn1&0==activeWpn1?(wpBox2.classList.remove("shown"),wpBox3.classList.remove("shown"),wpBox4.classList.remove("shown"),curtainsBtn.classList.remove("hide"),showWpn2=!1,showWpn3=!1,showWpn4=!1,activeWpn1=!0,wpBox1.classList.add("active-weapon"),fpWpn.classList.add("fork-fp")):0==showWpn1&&(wpBox1.classList.add("shown"),wpBox2.classList.remove("shown"),wpBox3.classList.remove("shown"),wpBox4.classList.remove("shown"),wpBox1.classList.add("active-weapon"),wpBox2.classList.remove("active-weapon"),wpBox3.classList.remove("active-weapon"),wpBox4.classList.remove("active-weapon"),showWpn1=!0,showWpn2=!1,showWpn3=!1,showWpn4=!1,activeWpn1=!0,activeWpn2=!1,activeWpn3=!1,activeWpn4=!1,fpWpn.classList.add("fork-fp"),fpWpn.classList.remove("banana-fp"),fpWpn.classList.remove("doner-fp"),fpWpn.classList.remove("pistol-fp"))},bananaBtn.onclick=function(){1==showWpn2&0==activeWpn2?(wpBox1.classList.remove("shown"),wpBox3.classList.remove("shown"),wpBox4.classList.remove("shown"),curtainsBtn.classList.remove("hide"),showWpn1=!1,showWpn3=!1,showWpn4=!1,activeWpn2=!0,wpBox2.classList.add("active-weapon"),fpWpn.classList.add("banana-fp")):0==showWpn2&&(wpBox1.classList.remove("shown"),wpBox2.classList.add("shown"),wpBox3.classList.remove("shown"),wpBox4.classList.remove("shown"),wpBox1.classList.remove("active-weapon"),wpBox2.classList.add("active-weapon"),wpBox3.classList.remove("active-weapon"),wpBox4.classList.remove("active-weapon"),showWpn1=!1,showWpn2=!0,showWpn3=!1,showWpn4=!1,activeWpn1=!1,activeWpn2=!0,activeWpn3=!1,activeWpn4=!1,fpWpn.classList.add("banana-fp"),fpWpn.classList.remove("fork-fp"),fpWpn.classList.remove("doner-fp"),fpWpn.classList.remove("pistol-fp"))},donerBtn.onclick=function(){1==showWpn3&0==activeWpn3?(wpBox1.classList.remove("shown"),wpBox2.classList.remove("shown"),wpBox4.classList.remove("shown"),curtainsBtn.classList.remove("hide"),showWpn1=!1,showWpn2=!1,showWpn4=!1,activeWpn3=!0,wpBox3.classList.add("active-weapon"),fpWpn.classList.add("doner-fp")):0==showWpn3&&(wpBox1.classList.remove("shown"),wpBox2.classList.remove("shown"),wpBox3.classList.add("shown"),wpBox4.classList.remove("shown"),wpBox1.classList.remove("active-weapon"),wpBox2.classList.remove("active-weapon"),wpBox3.classList.add("active-weapon"),wpBox4.classList.remove("active-weapon"),showWpn1=!1,showWpn2=!1,showWpn3=!0,showWpn4=!1,activeWpn1=!1,activeWpn2=!1,activeWpn3=!0,activeWpn4=!1,fpWpn.classList.add("doner-fp"),fpWpn.classList.remove("banana-fp"),fpWpn.classList.remove("fork-fp"),fpWpn.classList.remove("pistol-fp"))},pistolBtn.onclick=function(){1==showWpn4&0==activeWpn4?(wpBox1.classList.remove("shown"),wpBox2.classList.remove("shown"),wpBox3.classList.remove("shown"),curtainsBtn.classList.remove("hide"),showWpn1=!1,showWpn2=!1,showWpn3=!1,activeWpn4=!0,wpBox4.classList.add("active-weapon"),fpWpn.classList.add("pistol-fp")):0==showWpn4&&(wpBox1.classList.remove("shown"),wpBox2.classList.remove("shown"),wpBox3.classList.remove("shown"),wpBox4.classList.add("shown"),wpBox1.classList.remove("active-weapon"),wpBox2.classList.remove("active-weapon"),wpBox3.classList.remove("active-weapon"),wpBox4.classList.add("active-weapon"),showWpn1=!1,showWpn2=!1,showWpn3=!1,showWpn4=!0,activeWpn1=!1,activeWpn2=!1,activeWpn3=!1,activeWpn4=!0,fpWpn.classList.add("pistol-fp"),fpWpn.classList.remove("banana-fp"),fpWpn.classList.remove("fork-fp"),fpWpn.classList.remove("doner-fp"))};let attackComment=document.querySelector(".attack_comment"),defenseComment=document.querySelector(".defense_comment"),playerHpBar=document.querySelector(".player_hp_status"),playerStBar=document.querySelector(".player_stamina_status"),mcHpBar=document.querySelector(".mc_hp_status"),mcStBar=document.querySelector(".mc_stamina_status"),playerHitPoints=100,playerStamina=100;playerHpBar.style.width=playerHitPoints+"%",playerStBar.style.width=playerStamina+"%";let mcHitPoints=100,mcStamina=100;mcHpBar.style.width=mcHitPoints+"%",mcStBar.style.width=mcStamina+"%";let forkBasicDmg=5,forkStaminaCost=-10,bananaBasicDmg=3,bananaStaminaCost=-8,donerBasicDmg=2,donerStaminaCost=-5,pistolBasicDmg=15,pistolStaminaCost=-30,startRoundBtnActive=document.querySelector(".start-round"),startRoundBtn=document.querySelector(".start-btn"),defenseButtons=document.querySelectorAll(".defense"),attackButtons=document.querySelectorAll(".attack"),defenseChosen=!1,attackChosen=!1,headDef=!1,torsoDef=!1,legsDef=!1,defCheck1=()=>{defenseButtons[0].classList.add("active-defense"),defenseButtons[1].classList.remove("active-defense"),defenseButtons[2].classList.remove("active-defense"),headDef=!0,torsoDef=!1,legsDef=!1,defenseChosen=!0},defCheck2=()=>{defenseButtons[1].classList.add("active-defense"),defenseButtons[0].classList.remove("active-defense"),defenseButtons[2].classList.remove("active-defense"),headDef=!1,torsoDef=!0,legsDef=!1,defenseChosen=!0},defCheck3=()=>{defenseButtons[2].classList.add("active-defense"),defenseButtons[0].classList.remove("active-defense"),defenseButtons[1].classList.remove("active-defense"),headDef=!1,torsoDef=!1,legsDef=!0,defenseChosen=!0};defenseButtons[0].onclick=function(){0==headDef&0==attackChosen?defCheck1():0==headDef&1==attackChosen&&(defCheck1(),startRoundBtnActive.classList.add("activated"))},defenseButtons[1].onclick=function(){0==torsoDef&0==attackChosen?defCheck2():0==torsoDef&1==attackChosen&&(defCheck2(),startRoundBtnActive.classList.add("activated"))},defenseButtons[2].onclick=function(){0==legsDef&0==attackChosen?defCheck3():0==legsDef&1==attackChosen&&(defCheck3(),startRoundBtnActive.classList.add("activated"))};let headAtt=!1,torsoAtt=!1,legsAtt=!1,attCheck1=()=>{attackButtons[0].classList.add("active-attack"),attackButtons[1].classList.remove("active-attack"),attackButtons[2].classList.remove("active-attack"),headAtt=!0,torsoAtt=!1,legsAtt=!1,attackChosen=!0},attCheck2=()=>{attackButtons[1].classList.add("active-attack"),attackButtons[0].classList.remove("active-attack"),attackButtons[2].classList.remove("active-attack"),headAtt=!1,torsoAtt=!0,legsAtt=!1,attackChosen=!0},attCheck3=()=>{attackButtons[2].classList.add("active-attack"),attackButtons[0].classList.remove("active-attack"),attackButtons[1].classList.remove("active-attack"),headAtt=!1,torsoAtt=!1,legsAtt=!0,attackChosen=!0};attackButtons[0].onclick=function(){0==headAtt&0==defenseChosen?attCheck1():0==headAtt&1==defenseChosen&&(attCheck1(),startRoundBtnActive.classList.add("activated"))},attackButtons[1].onclick=function(){0==torsoAtt&0==defenseChosen?attCheck2():0==torsoAtt&1==defenseChosen&&(attCheck2(),startRoundBtnActive.classList.add("activated"))},attackButtons[2].onclick=function(){0==legsAtt&0==defenseChosen?attCheck3():0==legsAtt&1==defenseChosen&&(attCheck3(),startRoundBtnActive.classList.add("activated"))};let clearAttDef=()=>{attackButtons[0].classList.remove("active-attack"),attackButtons[1].classList.remove("active-attack"),attackButtons[2].classList.remove("active-attack"),defenseButtons[0].classList.remove("active-defense"),defenseButtons[1].classList.remove("active-defense"),defenseButtons[2].classList.remove("active-defense"),attackChosen=!1,defenseChosen=!1};
//! ATTACK
function mcHpBarStatus(){mcHitPoints>0?mcHpBar.style.width=mcHitPoints+"%":(mcHpBar.style.width="0%",closeEndCurtains(),setTimeout(endImg2,3e3))}function mcStaminaBarStatus(){mcStamina>0?mcStBar.style.width=mcStamina+"%":(mcStBar.style.width="0%",mcHitPoints-=10,mcHpBarStatus())}function playerHpBarStatus(){playerHitPoints>0?playerHpBar.style.width=playerHitPoints+"%":(playerHpBar.style.width="0%",closeEndCurtains(),setTimeout(endImg1,3e3))}function playerStaminaBarStatus(){playerStamina>0?playerStBar.style.width=playerStamina+"%":(playerStBar.style.width="0%",playerHitPoints-=10,playerHpBarStatus())}function runRoundAttack(t,e,s,a){playerStamina+=t,playerStaminaBarStatus(),1==headAtt?0!=a?(mcHitPoints-=e+s+5,attackComment.textContent="Ты наносишь Макгрегору удар в голову на "+(e+s+5)+" урона.",mcHpBarStatus(),headAtt=!1):(attackComment.textContent="Макгрегор уклоняется резким движением головы.",headAtt=!1):1==torsoAtt?1!=a?(mcHitPoints-=e+s,attackComment.textContent="Ты бьешь Макгрегору в корпус на "+(e+s)+" урона.",mcHpBarStatus(),torsoAtt=!1):(attackComment.textContent="Макгрегор уверенно блокирует удар.",torsoAtt=!1):1==legsAtt&&(2!=a?(mcHitPoints-=e+s,mcStamina-=5,attackComment.textContent="Ты атакуешь Макгрегора по ногам на "+(e+s)+" урона и он теряет 5 очков выносливости.",mcStaminaBarStatus(),mcHpBarStatus(),legsAtt=!1):(attackComment.textContent="Макгрегор парирует удар по ногам.",legsAtt=!1))}
//! DEFENSE
function runRoundDefense(){let t,e;t=Math.floor(3*Math.random()),e=Math.floor(5*Math.random()+5),mcStamina-=10,mcStaminaBarStatus(),0==t?0==headDef?(playerHitPoints-=e+10,playerHpBarStatus(),defenseComment.textContent="Макгрегор наносит "+(e+10)+" урона прямо тебе в голову.",torsoDef=!1,legsDef=!1):(defenseComment.textContent="Атака Макгрегора заблокирована.",headDef=!1):1==t?0==torsoDef?(playerHitPoints-=e,playerHpBarStatus(),defenseComment.textContent="Макгрегор наносит "+e+" урона хлестким ударом в корпус.",headDef=!1,legsDef=!1):(defenseComment.textContent="Атака Макгрегора заблокирована.",torsoDef=!1):2==t&&(0==legsDef?(playerHitPoints-=e,playerStamina-=5,playerStaminaBarStatus(),playerHpBarStatus(),defenseComment.textContent="Макгрегор бьет по ногам на "+e+" урона и ты теряешь 5 выносливости.",headDef=!1,torsoDef=!1):(defenseComment.textContent="Атака Макгрегора заблокирована.",legsDef=!1))}startRoundBtn.onclick=()=>{if(startRoundBtnActive.classList.remove("activated"),clearAttDef(),1==activeWpn1){let t,e;t=Math.floor(3*Math.random()),e=Math.floor(8*Math.random()),runRoundAttack(forkStaminaCost,forkBasicDmg,e,t)}else if(1==activeWpn2){let t,e;t=Math.floor(3*Math.random()),e=Math.floor(5*Math.random()),runRoundAttack(bananaStaminaCost,bananaBasicDmg,e,t)}else if(1==activeWpn3){let t,e;t=Math.floor(3*Math.random()),e=Math.floor(5*Math.random()),runRoundAttack(donerStaminaCost,donerBasicDmg,e,t)}else if(1==activeWpn4){let t,e;t=Math.floor(3*Math.random()),e=Math.floor(15*Math.random()),runRoundAttack(pistolStaminaCost,pistolBasicDmg,e,t)}runRoundDefense()};